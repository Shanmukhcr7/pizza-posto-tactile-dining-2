import{c as h,Y as y,w as b,j as l,o as e,q as a,A as d,x as j,B as v,D as c,Z as u,G as m,a6 as p,a7 as N}from"./index-BctlDaup.js";import{u as S}from"./useMutation-BDj03tzs.js";import{a as k,P as w,M as H}from"./phone-BZoEg76x.js";import{S as C}from"./save-BYvT8ID_.js";const z=h("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),i={restaurantName:"Pizza Posto",email:"hello@pizzaposto.com",phone:"+1 234 567 890",address:"123 Pizza Lane, Naples District",openingHours:{monThu:{open:"17:00",close:"22:00"},friSun:{open:"16:00",close:"23:00"}},notifications:{newReservation:!0,reservationReminder:!0,lowStock:!1}},R=async()=>{try{const o=u(m,"settings","restaurant"),n=await N(o);return n.exists()?n.data():(await p(o,i),i)}catch(o){return console.error("Error fetching settings:",o),i}},M=async o=>{try{const n=u(m,"settings","restaurant");return await p(n,o),!0}catch(n){return console.error("Error saving settings:",n),!1}};function B(){const o=y(),{data:n=i,isLoading:D,error:T}=b({queryKey:["settings"],queryFn:R}),[s,t]=l.useState(i);l.useEffect(()=>{n&&t(n)},[n]);const x=S({mutationFn:M,onSuccess:()=>{o.invalidateQueries({queryKey:["settings"]}),c.success("Settings saved successfully")},onError:()=>{c.error("Failed to save settings")}}),g=()=>{x.mutate(s)};return e.jsxs("div",{children:[e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[e.jsx("h1",{className:"font-serif text-3xl font-bold text-foreground mb-2",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your restaurant settings"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},children:e.jsx(d,{depth:6,children:e.jsxs("div",{className:"bg-gradient-card rounded-xl border border-border/50 p-6",children:[e.jsx("h2",{className:"font-serif text-xl font-bold text-foreground mb-6",children:"Restaurant Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-muted-foreground mb-2",children:"Restaurant Name"}),e.jsx("input",{type:"text",value:s.restaurantName,onChange:r=>t({...s,restaurantName:r.target.value}),className:"w-full px-4 py-3 rounded-xl bg-input border border-border text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-muted-foreground mb-2 flex items-center gap-2",children:[e.jsx(k,{size:14})," Email"]}),e.jsx("input",{type:"email",value:s.email,onChange:r=>t({...s,email:r.target.value}),className:"w-full px-4 py-3 rounded-xl bg-input border border-border text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-muted-foreground mb-2 flex items-center gap-2",children:[e.jsx(w,{size:14})," Phone"]}),e.jsx("input",{type:"tel",value:s.phone,onChange:r=>t({...s,phone:r.target.value}),className:"w-full px-4 py-3 rounded-xl bg-input border border-border text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-muted-foreground mb-2 flex items-center gap-2",children:[e.jsx(H,{size:14})," Address"]}),e.jsx("input",{type:"text",value:s.address,onChange:r=>t({...s,address:r.target.value}),className:"w-full px-4 py-3 rounded-xl bg-input border border-border text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]})})}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:e.jsx(d,{depth:6,children:e.jsxs("div",{className:"bg-gradient-card rounded-xl border border-border/50 p-6",children:[e.jsxs("h2",{className:"font-serif text-xl font-bold text-foreground mb-6 flex items-center gap-2",children:[e.jsx(j,{size:20,className:"text-primary"}),"Opening Hours"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-muted-foreground mb-3",children:"Monday - Thursday"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"time",value:s.openingHours.monThu.open,onChange:r=>t({...s,openingHours:{...s.openingHours,monThu:{...s.openingHours.monThu,open:r.target.value}}}),className:"px-4 py-2 rounded-xl bg-input border border-border text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),e.jsx("span",{className:"text-muted-foreground",children:"to"}),e.jsx("input",{type:"time",value:s.openingHours.monThu.close,onChange:r=>t({...s,openingHours:{...s.openingHours,monThu:{...s.openingHours.monThu,close:r.target.value}}}),className:"px-4 py-2 rounded-xl bg-input border border-border text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-muted-foreground mb-3",children:"Friday - Sunday"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"time",value:s.openingHours.friSun.open,onChange:r=>t({...s,openingHours:{...s.openingHours,friSun:{...s.openingHours.friSun,open:r.target.value}}}),className:"px-4 py-2 rounded-xl bg-input border border-border text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),e.jsx("span",{className:"text-muted-foreground",children:"to"}),e.jsx("input",{type:"time",value:s.openingHours.friSun.close,onChange:r=>t({...s,openingHours:{...s.openingHours,friSun:{...s.openingHours.friSun,close:r.target.value}}}),className:"px-4 py-2 rounded-xl bg-input border border-border text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]})]})})}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"lg:col-span-2",children:e.jsx(d,{depth:6,children:e.jsxs("div",{className:"bg-gradient-card rounded-xl border border-border/50 p-6",children:[e.jsxs("h2",{className:"font-serif text-xl font-bold text-foreground mb-6 flex items-center gap-2",children:[e.jsx(z,{size:20,className:"text-primary"}),"Notifications"]}),e.jsx("div",{className:"space-y-4",children:[{key:"newReservation",label:"New Reservation",description:"Get notified when a new reservation is made"},{key:"reservationReminder",label:"Reservation Reminder",description:"Daily reminder of upcoming reservations"},{key:"lowStock",label:"Low Stock Alert",description:"Get notified when inventory is running low"}].map(r=>e.jsxs("label",{className:"flex items-center justify-between p-4 rounded-xl bg-muted/50 cursor-pointer hover:bg-muted transition-colors",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:r.label}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]}),e.jsx("input",{type:"checkbox",checked:s.notifications[r.key],onChange:f=>t({...s,notifications:{...s.notifications,[r.key]:f.target.checked}}),className:"w-5 h-5 rounded accent-primary"})]},r.key))})]})})})]}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"mt-6 flex justify-end",children:e.jsxs(v,{onClick:g,size:"lg",children:[e.jsx(C,{size:18,className:"mr-2"}),"Save Changes"]})})]})}export{B as default};
